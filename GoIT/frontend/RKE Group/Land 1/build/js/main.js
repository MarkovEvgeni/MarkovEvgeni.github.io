"use strict";document.addEventListener("DOMContentLoaded",function(){function e(){var e=document.documentElement.clientHeight,t=window.pageYOffset||document.documentElement.scrollTop;t>e||t>400?a(d):l(d)}function t(){var e=window.pageYOffset;console.log(e);var t=setInterval(function(){e>10?(window.scrollBy(0,-10),e-=10):(clearInterval(t),window.scrollTo(0,0))},4)}function n(){console.log("SET BUTTON");var e=d.previousElementSibling,t=e.offsetWidth,n=document.documentElement.clientWidth,a=(n-t)/2;if(a>90){var l=(a-80)/2;d.style.right=l+"px"}else d.style.right="5px";var e=d.previousElementSibling}function a(e,t,n){if(e.classList.contains("hidden")){t=168,n=24;var a=n,l=t,d=l/a,o=0,i=70;e.classList.remove("hidden");var s=setInterval(function(){if(e.style.borderWidth="2px",e.style.padding="3px",d>0){var t=i/(l/a);o+=t,e.style.height=o+"px",e.style.width=o+"px",d-=1}else clearInterval(s)},l/a)}}function l(e,t,n){if(!e.classList.contains("hidden")){t=168,n=24;var a=n,l=t,d=l/a,o=70,i=70,s=setInterval(function(){if(d>0){var t=i/(l/a);o-=t,e.style.height=o+"px",e.style.width=o+"px",d-=1}else e.style.borderWidth="0px",e.style.padding="0px",e.classList.add("hidden"),clearInterval(s)},l/a)}}var d=document.getElementsByClassName("updown")[0];d.addEventListener("click",t),n();var o=!1;document.addEventListener("scroll",e),window.addEventListener("resize",function(){o||(n(),o=!0,setTimeout(function(){o=!1},200))})}),document.addEventListener("DOMContentLoaded",function(){function e(){o.style.position="fixed",o.style.backgroundColor="rgba(0,0,0,1)",o.style.width="100%",o.style.left="0px",o.style.top="0px"}function t(){o.style.backgroundColor="rgba(0,0,0,.6)",o.style.position="relative"}function n(){var e=document.getElementsByClassName("phrase")[0],t=getComputedStyle(e),n=parseInt(t.paddingBottom)+o.offsetHeight+"px";e.style.paddingBottom=n}function a(){var e=document.getElementsByClassName("phrase")[0],t=getComputedStyle(e),n=parseInt(t.paddingBottom)-o.offsetHeight+"px";e.style.paddingBottom=n}function l(){var l=d.offsetHeight,s=o.offsetHeight,r=window.pageYOffset||document.documentElement.scrollTop;if(r>=l-s){if(console.log("tumbler",i),"on"!=i)return;e(),n(),i="off"}else{if("off"!=i)return;t(),a(),i="on"}}var d=document.getElementsByTagName("header")[0],o=document.getElementsByClassName("main-menu")[0],i="on";document.addEventListener("scroll",l)}),document.addEventListener("DOMContentLoaded",function(){function e(){var e=document.createElement("div");e.classList.add("dynamic-overlay"),e.style.zIndex="10",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(192,192,192,0.7)",e.style.top="0",e.style.textAlign="center",e.style.left="0",e.style.position="fixed",o.appendChild(e),n()}function t(){var e=document.getElementsByClassName("dynamic-overlay")[0];o.removeChild(e)}function n(){var e=document.getElementsByClassName("dynamic-overlay")[0],t=document.createElement("div");t.style.content="",t.style.display="inline-block",t.style.height="100%",t.style.verticalAlign="middle",e.appendChild(t);var n=document.createElement("div");n.style.zIndex="3",n.style.borderRadius="10px",n.style.border="3px solid black",n.style.maxWidth="320px",n.classList.add("modal-window"),n.style.verticalAlign="middle",n.style.background="white",n.style.display="inline-block",e.appendChild(n),a()}function a(){var e=document.getElementsByClassName("modal-window")[0],n=document.createElement("form");n.classList.add("order_form"),e.appendChild(n);var a=document.createElement("h3");n.appendChild(a),a.innerHTML="Заявка";var d=document.createElement("input");n.appendChild(d),d.setAttribute("name","name"),d.placeholder="Как к Вам обращаться?";var o=document.createElement("input");n.appendChild(o),o.placeholder="Ваш телефон",o.setAttribute("name","telephone");var i=document.createElement("input");n.appendChild(i),i.placeholder="Ваш e-mail",i.setAttribute("name","email");var s=document.createElement("select");n.appendChild(s),s.setAttribute("name","grade");var r=document.createElement("option");s.appendChild(r),r.innerHTML="Выберите марку",r.style.fontWeight="bold";var c=document.createElement("option");s.appendChild(c),c.value="Марка антрацита - АШ",c.innerHTML="АШ";var m=document.createElement("option");s.appendChild(m),m.value="Марка антрацита - АC",m.innerHTML="АС";var u=document.createElement("option");s.appendChild(u),u.value="Марка антрацита - АМ",u.innerHTML="АМ";var p=document.createElement("option");s.appendChild(p),p.value="Марка антрацита - АО",p.innerHTML="АО";var v=document.createElement("option");s.appendChild(v),v.value="Марка антрацита - АК",v.innerHTML="АК";var f=document.createElement("option");s.appendChild(f),f.value="Марка антрацита - АКО",f.innerHTML="АКО";var y=document.createElement("input");n.appendChild(y),y.placeholder="Укажите тоннаж",y.setAttribute("name","tonnage");var h=document.createElement("input");n.appendChild(h),h.type="submit",h.value="ОФОРМИТЬ",h.addEventListener("click",l);var g=document.createElement("div");n.appendChild(g),g.innerHTML="отменить",g.classList.add("cancel_button"),g.addEventListener("click",t)}function l(e){e.preventDefault();var t="name="+document.forms[0][0].value+"&telephone="+document.forms[0][1].value+"&email="+document.forms[0][2].value+"&grade="+document.forms[0][3].value+"&tonnage="+document.forms[0][4].value;console.log(t);var n=new XMLHttpRequest;n.open("POST","send.php",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t),n.onreadystatechange=function(){4==n.readyState&&(200!=n.status?alert("Отправить данные не удалось"+n.status+": "+n.statusText):alert("Ваша заявка успешно отправлена. Мы свяжемся с Вами в самое ближайшее время."))}}var d=document.getElementsByClassName("grade")[0].childNodes[5];d.addEventListener("click",e),console.log(d);var o=document.body});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2Nyb2xsZWRVcEJ1dHRvbiIsImRpc3BsYXlIZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxUb3AiLCJzY3JvbGxlZCIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0IiwidXBCdXR0b25IaWRlIiwidXBCdXR0b24iLCJzY3JvbGxVcCIsImN1cnJlbnRPZmZzZXQiLCJjb25zb2xlIiwiaW50ZXJ2YWxVcCIsInNldEludGVydmFsIiwic2Nyb2xsQnkiLCJjbGVhckludGVydmFsIiwic2V0QnV0dG9uIiwibG9nIiwid3JhcHBlcldpZHRoIiwid3JhcHBlciIsInBhZ2VXaWR0aCIsImNsaWVudFdpZHRoIiwic3BhY2VGb3JCdXR0b24iLCJyaWdodCIsInN0eWxlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInVwQnV0dG9uU2hvdyIsImVsIiwidCIsImYiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZwcyIsInRpbWUiLCJzdGVwcyIsImhlaWdodCIsImFuaW1hdGlvbkhlaWdodCIsIndpZHRoIiwicmVtb3ZlIiwiaW50ZXJ2YWwiLCJib3JkZXJXaWR0aCIsInBhZGRpbmciLCJzdGVwIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInRocm90dGxlZCIsImhlYWRlciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibWFpbk1lbnUiLCJ0b3AiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ1bkNlbWVudE1lbnUiLCJhZGRIZWFkZXJQYWRkaW5nIiwicGhyYXNlIiwicGhyYXNlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwicGhyYXNlU3R5bGVQYWRkaW5nQm90dG9tIiwicGFyc2VJbnQiLCJwYWRkaW5nQm90dG9tIiwib2Zmc2V0SGVpZ2h0IiwiaGVhZGVySGVpZ2h0IiwidHVtYmxlciIsImNlbWVudE1lbnUiLCJyZW1vdmVIZWFkZXJQYWRkaW5nIiwid2F0Y2hNZW51IiwiZ3JhZGUiLCJjcmVhdGVPdmVybGF5Iiwib3ZlcmxheSIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0QWxpZ24iLCJsZWZ0IiwicG9zaXRpb24iLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVNb2RhbCIsImRlbGV0ZU92ZXJsYXkiLCJyZW1vdmVDaGlsZCIsImJlZm9yZSIsImNvbnRlbnQiLCJtb2RhbCIsInpJbmRleCIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsInZlcnRpY2FsQWxpZ24iLCJiYWNrZ3JvdW5kIiwiZGlzcGxheSIsImNyZWF0ZUZvcm0iLCJhZGQiLCJmb3JtIiwicmVxdWVzdCIsImlubmVySFRNTCIsInByZXNlbnRZb3Vyc2VsZiIsInNldEF0dHJpYnV0ZSIsInBsYWNlaG9sZGVyIiwiY29udGFjdFRlbGVwaG9uZSIsImNvbnRhY3RFbWFpbCIsImdyYWRlQ29hbCIsImNvYWxHcmFkZSIsImZvbnRXZWlnaHQiLCJhc2giLCJ2YWx1ZSIsImFzIiwiYW0iLCJhbyIsImFrIiwiYWtvIiwidG9ubmFnZSIsInN1Ym1pdCIsImNhbmNlbGxhdGlvbiIsInNlbmRGb3JtIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsImZvcm1zIiwieG1sUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInN0YXR1cyIsImFsZXJ0Iiwic2V0UmVxdWVzdEhlYWRlciIsInJlYWR5U3RhdGUiLCJzdGF0dXNUZXh0IiwiY2hpbGROb2RlcyJdLCJtYXBwaW5ncyI6IllBQUFBLFVBQVNDLGlCQUFpQixtQkFBb0IsV0FnQjFDLFFBQVNDLEtBRUwsR0FBSUMsR0FBZ0JILFNBQVNJLGdCQUFnQkMsYUFBekNGLEVBQUFBLE9BQWdCSCxhQUFTSSxTQUFnQkMsZ0JBQWNDLFNBQ3ZEQyxHQUFXQyxHQUFPQyxFQUFlVCxJQUNqQ08sRUFBV0osR0FBZk8sRUFFT0MsR0FXWCxRQUFTQyxLQUVMLEdBQUlDLEdBQWdCTCxPQUFPQyxXQUEzQkssU0FBSUQsSUFBQUEsRUFJSixJQUFJRSxHQUFhQyxZQUFZ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QWE3RyxXQUVoQjRHLEVBQUE1RyxpQkFBQSxRQUFBOEcsRUFORyxJQUFJRCxHQUFlOUcsU0FBU3NFLGNBQWMsTUFROUNvQixHQUFTcUIsWUFBVEQsR0FDSWhGLEVBQUdrRixVQUFILFdBQ1JGLEVBQUE3RSxVQUFBd0QsSUFBQSxpQkFDQXFCLEVBQUE3RyxpQkFBQSxRQUFBNEUsR0FJQSxRQUFBa0MsR0FBQWpGLEdBQ1FBLEVBQUFrRixnQkFBQSxJQUFJQyxHQUFXLFFBQVVqSCxTQUFTa0gsTUFBTSxHQUFHLEdBQUdaLE1BQVEsY0FBZ0J0RyxTQUFTa0gsTUFBTSxHQUFHLEdBQUdaLE1BQVEsVUFBWXRHLFNBQVNrSCxNQUFNLEdBQUcsR0FBR1osTUFBUSxVQUFZdEcsU0FBU2tILE1BQU0sR0FBRyxHQUFHWixNQUFRLFlBQWV0RyxTQUFTa0gsTUFBTSxHQUFHLEdBQUdaLEtBU3pOYSxTQUFBQSxJQUFXQyxFQUdULElBQUFELEdBQUlBLEdBQVdFLGVBQ2JDLEdBQUFBLEtBQU0sT0FBQSxZQUFBLEdBQ1BILEVBQU1JLGlCQUFBLGVBQUEscUNBQ0hELEVBQUFBLEtBQU1MLEdBR1hFLEVBVERDLG1CQUFBLFdBV0gsR0FBQUQsRUFBQUssYUFFTCxLQUFBTCxFQUFBRSxPQUNBQyxNQUFBLDhCQUFBSCxFQUFBRSxPQUFBLEtBQUFGLEVBQUFNLFlBRUFILE1BQUEsaUZBdEpJLEdBQUluRCxHQUFRbkUsU0FBUzhDLHVCQUF1QixTQUFTLEdBQUc0RSxXQUFXLEVBUS9EdkQsR0FBQWxFLGlCQUFjRCxRQUFTc0UsR0FDdkJELFFBQUFBLElBQVFwQyxFQUVSb0MsSUFBQUEsR0FBQUEsU0FBYzdCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBcclxuICAgIHZhciB1cEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3VwZG93bicpWzBdO1xyXG4gICAgXHJcbiAgICB1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNjcm9sbFVwKTtcclxuICAgIFxyXG4gICAgc2V0QnV0dG9uKCk7XHJcbiAgICBcclxuICAgIHZhciB0aHJvdHRsZWQgPSBmYWxzZTsgXHJcbiAgICBcclxuLy8gICAg0JLQtdGI0LDQtdC8INC/0L7Rj9Cy0LvQtdC90LjQtSDQutC90L7Qv9C60LggXCLQndCQ0JLQldCg0KVcIiDQv9GA0Lgg0L/RgNC+0LrRgNGD0YLQutC1INGB0YLRgNCw0L3QuNGG0YtcclxuXHJcbiAgICBcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsZWRVcEJ1dHRvbigpIHtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgZGlzcGxheUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7IC8vINCg0LDQt9C80LXRgCDQvtC60L3QsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgICAgICB2YXIgc2Nyb2xsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICBpZiAoc2Nyb2xsZWQgPiBkaXNwbGF5SGVpZ2h0IHx8IHNjcm9sbGVkID4gNDAwKSB7XHJcbiAgICAgICAgICAgIHVwQnV0dG9uU2hvdyh1cEJ1dHRvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXBCdXR0b25IaWRlKHVwQnV0dG9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxlZFVwQnV0dG9uKTtcclxuICAgICAgICBcclxuLy8gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd1Njcm9sbCcpLmlubmVySFRNTCA9IHNjcm9sbGVkICsgJ3B4JztcclxuICAgIFxyXG4vLyAgICDQodC+0LfQtNCw0LXQvCDRhNGD0L3QutGG0LjRjiDQtNC70Y8g0Y3RhNGE0LXQutGCINC/0LvQsNCy0L3QvtC5INC/0YDQvtC60YDRg9GC0LrQuCDQvtC60L3QsFxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxVcCAoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGN1cnJlbnRPZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coY3VycmVudE9mZnNldCk7XHJcbi8vICAgICAgICB1cEJ1dHRvbkhpZGUodXBCdXR0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBpbnRlcnZhbFVwID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudE9mZnNldCA+IDEwKSB7XHJcbi8vICAgICAgICAgICAgICAgIHVwQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsLTEwKVxyXG4gICAgICAgICAgICAgICAgY3VycmVudE9mZnNldCAtPSAxMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxVcCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcclxuLy8gICAgICAgICAgICAgICAgdXBCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA0KTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBcclxuLy8gICAgICAgIHQgPSAzMzY7XHJcbi8vICAgICAgICBmID0gMjQ7XHJcbi8vICAgICAgICB2YXIgZnBzID0gZiwgdGltZSA9IHQsIHN0ZXBzID0gdGltZSAvIGZwcywgaGVpZ2h0ID0gMCwgd2lkdGggPSAwLCBhbmltYXRpb25IZWlnaHQgPSA3MDtcclxuLy8gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4vLyAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICAgIGlmIChzdGVwcyA+IDApIHtcclxuLy8gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBhbmltYXRpb25IZWlnaHQgLyAodGltZSAvIGZwcyk7XHJcbi8vICAgICAgICAgICAgICAgIGhlaWdodCArPSBzdGVwO1xyXG4vLyAgICAgICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbi8vICAgICAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gaGVpZ2h0ICsgXCJweFwiO1xyXG4vLyAgICAgICAgICAgICAgICBzdGVwcyAtPSAxO1xyXG4vLyAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4vLyAgICAgICAgICAgIH1cclxuLy8gICAgICAgIH0sIHRpbWUgLyBmcHMpO1xyXG4gICAgfVxyXG4gICAgXHJcbi8vICAg0JLQtdGI0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LAg0LjQt9C80LXQvdC10L3QuNC1INGA0LDQt9C80LXRgNC+0LIg0L7QutC90LBcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBvbmx5IHJ1biBpZiB3ZSdyZSBub3QgdGhyb3R0bGVkXHJcbiAgICAgIGlmICghdGhyb3R0bGVkKSB7XHJcbiAgICAgICAgLy8gYWN0dWFsIGNhbGxiYWNrIGFjdGlvblxyXG4gICAgICAgIHNldEJ1dHRvbigpO1xyXG4gICAgICAgIC8vIHdlJ3JlIHRocm90dGxlZCFcclxuICAgICAgICB0aHJvdHRsZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIHNldCBhIHRpbWVvdXQgdG8gdW4tdGhyb3R0bGVcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdGhyb3R0bGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgICAgfSAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4vLyAgICDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0LLRi9GA0LDQstC90LjQstCw0L3QuNGPINC60L3QvtC/0LrQuCBcItCd0JDQktCV0KDQpVwiXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNldEJ1dHRvbiAoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NFVCBCVVRUT04nKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgd3JhcHBlciA9IHVwQnV0dG9uLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vINCd0LDRhdC+0LTQuNC8IHdyYXBwZXIsINGH0YLQvtCx0Ysg0L7Qv9GA0LXQtNC10LvQuNGC0Ywg0LXQs9C+INGI0LjRgNC40L3Rg1xyXG4gICAgICAgIHZhciB3cmFwcGVyV2lkdGggPSB3cmFwcGVyLm9mZnNldFdpZHRoOyAvLyDQntC/0YDQtdC00LXQu9GP0LXQvCDRiNC40YDQuNC90YMgd3JhcHBlclxyXG4gICAgICAgIHZhciBwYWdlV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHNwYWNlRm9yQnV0dG9uID0gKHBhZ2VXaWR0aCAtIHdyYXBwZXJXaWR0aCkgLyAyOyAvLyDQntC/0YDQtdC00LXQu9GP0LXQvCDRiNC40YDQuNC90YMg0L/Rg9GB0YLQvtCz0L4g0L/RgNC+0YHRgtGA0LDQvdGB0YLQstCwINC80LXQttC00YMgd3JhcHBlciDQuCDQs9GA0LDQvdC40YbQtdC5INGB0YLRgNCw0L3QuNGG0YtcclxuXHJcbiAgICAgICAgaWYgKHNwYWNlRm9yQnV0dG9uID4gOTApIHsgLy8g0JXRgdC70Lgg0L/RgNC+0YHRgtGA0LDQvdGB0YLQstCwINC/0L4g0YjQuNGA0LjQvdC1INCx0L7Qu9GM0YjQtSDRh9C10Lwg0YjQuNGA0LjQvdCwINC60L3QvtC/0LrQuCwg0YDQsNC30LzQtdGJ0LDQtdC8INC60L3QvtC/0LrRgyDQv9C+0YHQtdGA0LXQtNC40L3QtVxyXG4gICAgICAgICAgICB2YXIgcmlnaHQgPSAoc3BhY2VGb3JCdXR0b24gLSA4MCkgLyAyO1xyXG4gICAgICAgICAgICB1cEJ1dHRvbi5zdHlsZS5yaWdodCA9IHJpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyDQldGB0LvQuCDQvNC10L3RjNGI0LUsINC/0YDQuNC20LjQvNCw0LXQvCDQuiDQv9GA0LDQstC+0Lkg0YHRgtC+0YDQvtC90LUg0Y3QutGA0LDQvdCwXHJcbiAgICAgICAgICAgICAgICB1cEJ1dHRvbi5zdHlsZS5yaWdodCA9IDUgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB1cEJ1dHRvbi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyBcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4vLyAgICDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L/QvtC60LDQt9CwINC60L3QvtC/0LrQuCBcItCd0JDQktCV0KDQpVwiXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHVwQnV0dG9uU2hvdyhlbCwgdCwgZikge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHQgPSAxNjg7XHJcbiAgICAgICAgICAgIGYgPSAyNDtcclxuICAgICAgICAgICAgdmFyIGZwcyA9IGYsIHRpbWUgPSB0LCBzdGVwcyA9IHRpbWUgLyBmcHMsIGhlaWdodCA9IDAsIHdpZHRoID0gMCwgYW5pbWF0aW9uSGVpZ2h0ID0gNzA7XHJcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWwuc3R5bGUuYm9yZGVyV2lkdGggPSBcIjJweFwiO1xyXG4gICAgICAgICAgICAgICAgZWwuc3R5bGUucGFkZGluZyA9IFwiM3B4XCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RlcHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBhbmltYXRpb25IZWlnaHQgLyAodGltZSAvIGZwcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHN0ZXA7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzIC09IDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGltZSAvIGZwcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vICAgINCk0YPQvdC60YbQuNGPINC00LvRjyDRgdC60YDRi9GC0LjRjyDQutC90L7Qv9C60LggXCLQndCQ0JLQldCg0KVcIlxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB1cEJ1dHRvbkhpZGUoZWwsIHQsIGYpIHtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0ID0gMTY4O1xyXG4gICAgICAgICAgICBmID0gMjQ7XHJcbiAgICAgICAgICAgIHZhciBmcHMgPSBmLCB0aW1lID0gdCwgc3RlcHMgPSB0aW1lIC8gZnBzLCBoZWlnaHQgPSA3MCwgd2lkdGggPSA3MCwgYW5pbWF0aW9uSGVpZ2h0ID0gNzA7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW50ZXJ2YWwyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGVwID0gYW5pbWF0aW9uSGVpZ2h0IC8gKHRpbWUgLyBmcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCAtPSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICBlbC5zdHlsZS53aWR0aCA9IGhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICBzdGVwcyAtPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5zdHlsZS5ib3JkZXJXaWR0aCA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGUucGFkZGluZyA9IFwiMHB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aW1lIC8gZnBzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4vLyAgICB1cEJ1dHRvblNob3codXBCdXR0b24pO1xyXG4gICAgXHJcbi8vICAgIHZhciB0aW1lciA9IHNldFRpbWVvdXQodXBCdXR0b25IaWRlLCA0MDAwLCB1cEJ1dHRvbik7XHJcbiAgICBcclxufSk7XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIFxyXG4gICAgdmFyIGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkZXInKVswXTtcclxuICAgIFxyXG4gICAgdmFyIG1haW5NZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWFpbi1tZW51JylbMF07XHJcbiAgICBcclxuICAgIHZhciB0dW1ibGVyID0gJ29uJztcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY2VtZW50TWVudSAoKSB7XHJcbiAgICAgICAgbWFpbk1lbnUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xyXG4gICAgICAgIG1haW5NZW51LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDEpJztcclxuICAgICAgICBtYWluTWVudS5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICBtYWluTWVudS5zdHlsZS5sZWZ0ID0gJzBweCc7XHJcbiAgICAgICAgbWFpbk1lbnUuc3R5bGUudG9wID0gJzBweCc7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB1bkNlbWVudE1lbnUgKCkge1xyXG4gICAgICAgIG1haW5NZW51LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLC42KSc7XHJcbiAgICAgICAgbWFpbk1lbnUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhZGRIZWFkZXJQYWRkaW5nICgpIHtcclxuICAgICAgICB2YXIgcGhyYXNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGhyYXNlJylbMF07XHJcbiAgICAgICAgdmFyIHBocmFzZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShwaHJhc2UpO1xyXG4gICAgICAgIHZhciBwaHJhc2VTdHlsZVBhZGRpbmdCb3R0b20gPSBwYXJzZUludChwaHJhc2VTdHlsZS5wYWRkaW5nQm90dG9tKSArIG1haW5NZW51Lm9mZnNldEhlaWdodCArICdweCc7XHJcbiAgICAgICAgcGhyYXNlLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBwaHJhc2VTdHlsZVBhZGRpbmdCb3R0b207ICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlSGVhZGVyUGFkZGluZyAoKSB7XHJcbiAgICAgICAgdmFyIHBocmFzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BocmFzZScpWzBdO1xyXG4gICAgICAgIHZhciBwaHJhc2VTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUocGhyYXNlKTtcclxuICAgICAgICB2YXIgcGhyYXNlU3R5bGVQYWRkaW5nQm90dG9tID0gcGFyc2VJbnQocGhyYXNlU3R5bGUucGFkZGluZ0JvdHRvbSkgLSBtYWluTWVudS5vZmZzZXRIZWlnaHQgKyAncHgnO1xyXG4gICAgICAgIHBocmFzZS5zdHlsZS5wYWRkaW5nQm90dG9tID0gcGhyYXNlU3R5bGVQYWRkaW5nQm90dG9tOyAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHdhdGNoTWVudSAoKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9IGhlYWRlci5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIG1haW5NZW51SGVpZ2h0ID0gbWFpbk1lbnUub2Zmc2V0SGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgc2Nyb2xsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICBpZiAoc2Nyb2xsZWQgPj0gKGhlYWRlckhlaWdodCAtIG1haW5NZW51SGVpZ2h0KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndHVtYmxlcicsIHR1bWJsZXIpO1xyXG4gICAgICAgICAgICBpZiAodHVtYmxlciA9PSAnb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjZW1lbnRNZW51KCk7XHJcbiAgICAgICAgICAgICAgICBhZGRIZWFkZXJQYWRkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB0dW1ibGVyID0gJ29mZic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodHVtYmxlciA9PSAnb2ZmJykge1xyXG4gICAgICAgICAgICAgICAgdW5DZW1lbnRNZW51KCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVIZWFkZXJQYWRkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB0dW1ibGVyID0gJ29uJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB3YXRjaE1lbnUpO1xyXG4gICAgXHJcbi8vICAgIHZhciB1cEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3VwZG93bicpWzBdO1xyXG4vLyAgICBcclxuLy8gICAgdXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzY3JvbGxVcCk7XHJcbi8vICAgIFxyXG4vLyAgICBzZXRCdXR0b24oKTtcclxuLy8gICAgXHJcbi8vICAgIHZhciB0aHJvdHRsZWQgPSBmYWxzZTsgXHJcbi8vICAgIFxyXG4vLy8vICAgINCS0LXRiNCw0LXQvCDQv9C+0Y/QstC70LXQvdC40LUg0LrQvdC+0L/QutC4IFwi0J3QkNCS0JXQoNClXCIg0L/RgNC4INC/0YDQvtC60YDRg9GC0LrQtSDRgdGC0YDQsNC90LjRhtGLXHJcbi8vXHJcbi8vICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgZGlzcGxheUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7IC8vINCg0LDQt9C80LXRgCDQvtC60L3QsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuLy8gICAgICAgIHZhciBzY3JvbGxlZCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4vLyAgICAgICAgaWYgKHNjcm9sbGVkID4gZGlzcGxheUhlaWdodCB8fCBzY3JvbGxlZCA+IDQwMCkge1xyXG4vLyAgICAgICAgICAgIHVwQnV0dG9uU2hvdyh1cEJ1dHRvbik7XHJcbi8vICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgIHVwQnV0dG9uSGlkZSh1cEJ1dHRvbik7XHJcbi8vICAgICAgICB9XHJcbi8vICAgICAgICBcclxuLy8gICAgXHJcbi8vLy8gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd1Njcm9sbCcpLmlubmVySFRNTCA9IHNjcm9sbGVkICsgJ3B4JztcclxuLy8gICAgfVxyXG4vLyAgICBcclxuLy8vLyAgICDQodC+0LfQtNCw0LXQvCDRhNGD0L3QutGG0LjRjiDQtNC70Y8g0Y3RhNGE0LXQutGCINC/0LvQsNCy0L3QvtC5INC/0YDQvtC60YDRg9GC0LrQuCDQvtC60L3QsFxyXG4vLyAgICBcclxuLy8gICAgZnVuY3Rpb24gc2Nyb2xsVXAgKCkge1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgY3VycmVudE9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuLy8gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRPZmZzZXQpO1xyXG4vLy8vICAgICAgICB1cEJ1dHRvbkhpZGUodXBCdXR0b24pO1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgaW50ZXJ2YWxVcCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICBpZiAoY3VycmVudE9mZnNldCA+IDEwKSB7XHJcbi8vLy8gICAgICAgICAgICAgICAgdXBCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbi8vICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLC0xMClcclxuLy8gICAgICAgICAgICAgICAgY3VycmVudE9mZnNldCAtPSAxMDtcclxuLy8gICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsVXApO1xyXG4vLyAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcclxuLy8vLyAgICAgICAgICAgICAgICB1cEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuLy8gICAgICAgICAgICB9XHJcbi8vICAgICAgICB9LCA0KTtcclxuLy8gICAgICAgIFxyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICBcclxuLy8vLyAgICAgICAgdCA9IDMzNjtcclxuLy8vLyAgICAgICAgZiA9IDI0O1xyXG4vLy8vICAgICAgICB2YXIgZnBzID0gZiwgdGltZSA9IHQsIHN0ZXBzID0gdGltZSAvIGZwcywgaGVpZ2h0ID0gMCwgd2lkdGggPSAwLCBhbmltYXRpb25IZWlnaHQgPSA3MDtcclxuLy8vLyAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbi8vLy8gICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuLy8vLyAgICAgICAgICAgIGlmIChzdGVwcyA+IDApIHtcclxuLy8vLyAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IGFuaW1hdGlvbkhlaWdodCAvICh0aW1lIC8gZnBzKTtcclxuLy8vLyAgICAgICAgICAgICAgICBoZWlnaHQgKz0gc3RlcDtcclxuLy8vLyAgICAgICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbi8vLy8gICAgICAgICAgICAgICAgZWwuc3R5bGUud2lkdGggPSBoZWlnaHQgKyBcInB4XCI7XHJcbi8vLy8gICAgICAgICAgICAgICAgc3RlcHMgLT0gMTtcclxuLy8vLyAgICAgICAgICAgIH0gZWxzZSB7XHJcbi8vLy8gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbi8vLy8gICAgICAgICAgICB9XHJcbi8vLy8gICAgICAgIH0sIHRpbWUgLyBmcHMpO1xyXG4vLyAgICB9XHJcbi8vICAgIFxyXG4vLy8vICAg0JLQtdGI0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LAg0LjQt9C80LXQvdC10L3QuNC1INGA0LDQt9C80LXRgNC+0LIg0L7QutC90LBcclxuLy8gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgLy8gb25seSBydW4gaWYgd2UncmUgbm90IHRocm90dGxlZFxyXG4vLyAgICAgIGlmICghdGhyb3R0bGVkKSB7XHJcbi8vICAgICAgICAvLyBhY3R1YWwgY2FsbGJhY2sgYWN0aW9uXHJcbi8vICAgICAgICBzZXRCdXR0b24oKTtcclxuLy8gICAgICAgIC8vIHdlJ3JlIHRocm90dGxlZCFcclxuLy8gICAgICAgIHRocm90dGxlZCA9IHRydWU7XHJcbi8vICAgICAgICAvLyBzZXQgYSB0aW1lb3V0IHRvIHVuLXRocm90dGxlXHJcbi8vICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICB0aHJvdHRsZWQgPSBmYWxzZTtcclxuLy8gICAgICAgIH0sIDIwMCk7XHJcbi8vICAgICAgfSAgXHJcbi8vICAgIH0pO1xyXG4vLyAgICBcclxuLy8vLyAgICDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0LLRi9GA0LDQstC90LjQstCw0L3QuNGPINC60L3QvtC/0LrQuCBcItCd0JDQktCV0KDQpVwiXHJcbi8vICAgIFxyXG4vLyAgICBmdW5jdGlvbiBzZXRCdXR0b24gKCkge1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICBjb25zb2xlLmxvZygnU0VUIEJVVFRPTicpO1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgd3JhcHBlciA9IHVwQnV0dG9uLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IC8vINCd0LDRhdC+0LTQuNC8IHdyYXBwZXIsINGH0YLQvtCx0Ysg0L7Qv9GA0LXQtNC10LvQuNGC0Ywg0LXQs9C+INGI0LjRgNC40L3Rg1xyXG4vLyAgICAgICAgdmFyIHdyYXBwZXJXaWR0aCA9IHdyYXBwZXIub2Zmc2V0V2lkdGg7IC8vINCe0L/RgNC10LTQtdC70Y/QtdC8INGI0LjRgNC40L3RgyB3cmFwcGVyXHJcbi8vICAgICAgICB2YXIgcGFnZVdpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgc3BhY2VGb3JCdXR0b24gPSAocGFnZVdpZHRoIC0gd3JhcHBlcldpZHRoKSAvIDI7IC8vINCe0L/RgNC10LTQtdC70Y/QtdC8INGI0LjRgNC40L3RgyDQv9GD0YHRgtC+0LPQviDQv9GA0L7RgdGC0YDQsNC90YHRgtCy0LAg0LzQtdC20LTRgyB3cmFwcGVyINC4INCz0YDQsNC90LjRhtC10Lkg0YHRgtGA0LDQvdC40YbRi1xyXG4vL1xyXG4vLyAgICAgICAgaWYgKHNwYWNlRm9yQnV0dG9uID4gOTApIHsgLy8g0JXRgdC70Lgg0L/RgNC+0YHRgtGA0LDQvdGB0YLQstCwINC/0L4g0YjQuNGA0LjQvdC1INCx0L7Qu9GM0YjQtSDRh9C10Lwg0YjQuNGA0LjQvdCwINC60L3QvtC/0LrQuCwg0YDQsNC30LzQtdGJ0LDQtdC8INC60L3QvtC/0LrRgyDQv9C+0YHQtdGA0LXQtNC40L3QtVxyXG4vLyAgICAgICAgICAgIHZhciByaWdodCA9IChzcGFjZUZvckJ1dHRvbiAtIDgwKSAvIDI7XHJcbi8vICAgICAgICAgICAgdXBCdXR0b24uc3R5bGUucmlnaHQgPSByaWdodCArIFwicHhcIjtcclxuLy8gICAgICAgICAgICB9IGVsc2UgeyAvLyDQldGB0LvQuCDQvNC10L3RjNGI0LUsINC/0YDQuNC20LjQvNCw0LXQvCDQuiDQv9GA0LDQstC+0Lkg0YHRgtC+0YDQvtC90LUg0Y3QutGA0LDQvdCwXHJcbi8vICAgICAgICAgICAgICAgIHVwQnV0dG9uLnN0eWxlLnJpZ2h0ID0gNSArIFwicHhcIjtcclxuLy8gICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgd3JhcHBlciA9IHVwQnV0dG9uLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IFxyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICBcclxuLy8gICAgfVxyXG4vLyAgICBcclxuLy8vLyAgICDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L/QvtC60LDQt9CwINC60L3QvtC/0LrQuCBcItCd0JDQktCV0KDQpVwiXHJcbi8vICAgIFxyXG4vLyAgICBmdW5jdGlvbiB1cEJ1dHRvblNob3coZWwsIHQsIGYpIHtcclxuLy8gICAgICAgIFxyXG4vLyAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG4vLyAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgIHQgPSAxNjg7XHJcbi8vICAgICAgICAgICAgZiA9IDI0O1xyXG4vLyAgICAgICAgICAgIHZhciBmcHMgPSBmLCB0aW1lID0gdCwgc3RlcHMgPSB0aW1lIC8gZnBzLCBoZWlnaHQgPSAwLCB3aWR0aCA9IDAsIGFuaW1hdGlvbkhlaWdodCA9IDcwO1xyXG4vLyAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4vL1xyXG4vLyAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgICAgZWwuc3R5bGUuYm9yZGVyV2lkdGggPSBcIjJweFwiO1xyXG4vLyAgICAgICAgICAgICAgICBlbC5zdHlsZS5wYWRkaW5nID0gXCIzcHhcIjtcclxuLy8gICAgICAgICAgICAgICAgaWYgKHN0ZXBzID4gMCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBhbmltYXRpb25IZWlnaHQgLyAodGltZSAvIGZwcyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gc3RlcDtcclxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gaGVpZ2h0ICsgXCJweFwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgc3RlcHMgLT0gMTtcclxuLy8gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuLy9cclxuLy8gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4vLyAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgfSwgdGltZSAvIGZwcyk7XHJcbi8vICAgICAgICAgICAgXHJcbi8vICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgIHJldHVyblxyXG4vLyAgICAgICAgfVxyXG4vLyAgICAgICAgXHJcbi8vICAgIH07XHJcbi8vICAgIFxyXG4vLyAgICAvLyAgICDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0YHQutGA0YvRgtC40Y8g0LrQvdC+0L/QutC4IFwi0J3QkNCS0JXQoNClXCJcclxuLy8gICAgXHJcbi8vICAgIGZ1bmN0aW9uIHVwQnV0dG9uSGlkZShlbCwgdCwgZikge1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcbi8vICAgICAgICAgICAgcmV0dXJuXHJcbi8vICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgIHQgPSAxNjg7XHJcbi8vICAgICAgICAgICAgZiA9IDI0O1xyXG4vLyAgICAgICAgICAgIHZhciBmcHMgPSBmLCB0aW1lID0gdCwgc3RlcHMgPSB0aW1lIC8gZnBzLCBoZWlnaHQgPSA3MCwgd2lkdGggPSA3MCwgYW5pbWF0aW9uSGVpZ2h0ID0gNzA7XHJcbi8vXHJcbi8vICAgICAgICAgICAgdmFyIGludGVydmFsMiA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgICAgaWYgKHN0ZXBzID4gMCkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBhbmltYXRpb25IZWlnaHQgLyAodGltZSAvIGZwcyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICBoZWlnaHQgLT0gc3RlcDtcclxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gaGVpZ2h0ICsgXCJweFwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgc3RlcHMgLT0gMTtcclxuLy8gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmJvcmRlcldpZHRoID0gXCIwcHhcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLnBhZGRpbmcgPSBcIjBweFwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbi8vICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsMik7XHJcbi8vICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICB9LCB0aW1lIC8gZnBzKTtcclxuLy8gICAgICAgICAgICBcclxuLy8gICAgICAgIH1cclxuLy8gICAgICAgIFxyXG4vLyAgICB9XHJcbi8vICAgIFxyXG4vLyAgICBcclxuLy8gICAgXHJcbi8vICAgIFxyXG4vLyAgICBcclxuLy8gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbi8vICAgIHVwQnV0dG9uU2hvdyh1cEJ1dHRvbik7XHJcbiAgICBcclxuLy8gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dCh1cEJ1dHRvbkhpZGUsIDQwMDAsIHVwQnV0dG9uKTtcclxuICAgIFxyXG59KTtcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgXHJcbiAgICB2YXIgZ3JhZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdncmFkZScpWzBdLmNoaWxkTm9kZXNbNV07XHJcbiAgICBcclxuICAgIGdyYWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlT3ZlcmxheSk7XHJcbiAgICBjb25zb2xlLmxvZyhncmFkZSk7XHJcbiAgICBcclxuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcmxheSAoKSB7XHJcbiAgICAgICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2R5bmFtaWMtb3ZlcmxheScpO1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUuekluZGV4ID0gXCIxMFwiO1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDE5MiwxOTIsMTkyLDAuNylcIjtcclxuICAgICAgICBvdmVybGF5LnN0eWxlLnRvcCA9IFwiMFwiO1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmxlZnQgPSBcIjBcIjtcclxuICAgICAgICBvdmVybGF5LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XHJcbiAgICAgICAgY3JlYXRlTW9kYWwoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gZGVsZXRlT3ZlcmxheSAoKSB7XHJcbiAgICAgICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkeW5hbWljLW92ZXJsYXknKVswXTtcclxuICAgICAgICBib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVNb2RhbCAoKSB7XHJcbiAgICAgICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkeW5hbWljLW92ZXJsYXknKVswXTtcclxuICAgICAgICB2YXIgYmVmb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IC8vINCh0L7Qt9C00LDQtdC8INGN0LvQtdC80LXQvdGCINC00LvRjyDQstGL0YDQsNCy0L3QuNCy0LDQvdC40Y8g0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0L/QviDQstGL0YHQvtGC0LUg0Lgg0YjQuNGA0LjQvdC1INCyINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7RgiDRgNCw0LfQvNC10YDQsCBib2R5XHJcbiAgICAgICAgYmVmb3JlLnN0eWxlLmNvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGJlZm9yZS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcclxuICAgICAgICBiZWZvcmUuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgYmVmb3JlLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQoYmVmb3JlKTsgLy8g0JTQvtCx0LDQstC70Y/QtdC8IGJlZm9yZVxyXG4gICAgICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAvLyDQodC+0LfQtNCw0LXQvCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cclxuICAgICAgICBtb2RhbC5zdHlsZS56SW5kZXggPSBcIjNcIjtcclxuICAgICAgICBtb2RhbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjEwcHhcIjtcclxuICAgICAgICBtb2RhbC5zdHlsZS5ib3JkZXIgPSBcIjNweCBzb2xpZCBibGFja1wiO1xyXG4vLyAgICAgICAgbW9kYWwuc3R5bGUuaGVpZ2h0ID0gXCIyMDBweFwiO1xyXG4gICAgICAgIG1vZGFsLnN0eWxlLm1heFdpZHRoID0gXCIzMjBweFwiO1xyXG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLXdpbmRvdycpO1xyXG4gICAgICAgIG1vZGFsLnN0eWxlLnZlcnRpY2FsQWxpZ24gPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgIG1vZGFsLnN0eWxlLmJhY2tncm91bmQgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XHJcbiAgICAgICAgb3ZlcmxheS5hcHBlbmRDaGlsZChtb2RhbCk7IC8vINCU0L7QsdCw0LLQu9GP0LXQvCBiZWZvcmVcclxuICAgICAgICBjcmVhdGVGb3JtKCk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVGb3JtICgpIHtcclxuICAgICAgICB2YXIgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC13aW5kb3cnKVswXTtcclxuICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ29yZGVyX2Zvcm0nKTtcclxuICAgICAgICBtb2RhbC5hcHBlbmRDaGlsZChmb3JtKTtcclxuICAgICAgICB2YXIgcmVxdWVzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChyZXF1ZXN0KTtcclxuICAgICAgICByZXF1ZXN0LmlubmVySFRNTCA9ICfQl9Cw0Y/QstC60LAnO1xyXG4gICAgICAgIHZhciBwcmVzZW50WW91cnNlbGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQocHJlc2VudFlvdXJzZWxmKTtcclxuICAgICAgICBwcmVzZW50WW91cnNlbGYuc2V0QXR0cmlidXRlKCduYW1lJywgJ25hbWUnKTtcclxuICAgICAgICBwcmVzZW50WW91cnNlbGYucGxhY2Vob2xkZXIgPSAn0JrQsNC6INC6INCS0LDQvCDQvtCx0YDQsNGJ0LDRgtGM0YHRjz8nO1xyXG4gICAgICAgIHZhciBjb250YWN0VGVsZXBob25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNvbnRhY3RUZWxlcGhvbmUpO1xyXG4gICAgICAgIGNvbnRhY3RUZWxlcGhvbmUucGxhY2Vob2xkZXIgPSAn0JLQsNGIINGC0LXQu9C10YTQvtC9JztcclxuICAgICAgICBjb250YWN0VGVsZXBob25lLnNldEF0dHJpYnV0ZSgnbmFtZScsICd0ZWxlcGhvbmUnKTtcclxuICAgICAgICB2YXIgY29udGFjdEVtYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNvbnRhY3RFbWFpbCk7XHJcbiAgICAgICAgY29udGFjdEVtYWlsLnBsYWNlaG9sZGVyID0gJ9CS0LDRiCBlLW1haWwnO1xyXG4gICAgICAgIGNvbnRhY3RFbWFpbC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZW1haWwnKTtcclxuICAgICAgICB2YXIgZ3JhZGVDb2FsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChncmFkZUNvYWwpO1xyXG4gICAgICAgIGdyYWRlQ29hbC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZ3JhZGUnKTtcclxuICAgICAgICB2YXIgY29hbEdyYWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgZ3JhZGVDb2FsLmFwcGVuZENoaWxkKGNvYWxHcmFkZSk7XHJcbiAgICAgICAgY29hbEdyYWRlLmlubmVySFRNTCA9ICfQktGL0LHQtdGA0LjRgtC1INC80LDRgNC60YMnO1xyXG4gICAgICAgIGNvYWxHcmFkZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG4gICAgICAgIHZhciBhc2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBncmFkZUNvYWwuYXBwZW5kQ2hpbGQoYXNoKTtcclxuICAgICAgICBhc2gudmFsdWUgPSAn0JzQsNGA0LrQsCDQsNC90YLRgNCw0YbQuNGC0LAgLSDQkNCoJztcclxuICAgICAgICBhc2guaW5uZXJIVE1MID0gJ9CQ0KgnO1xyXG4gICAgICAgIHZhciBhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGdyYWRlQ29hbC5hcHBlbmRDaGlsZChhcyk7XHJcbiAgICAgICAgYXMudmFsdWUgPSAn0JzQsNGA0LrQsCDQsNC90YLRgNCw0YbQuNGC0LAgLSDQkEMnO1xyXG4gICAgICAgIGFzLmlubmVySFRNTCA9ICfQkNChJztcclxuICAgICAgICB2YXIgYW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBncmFkZUNvYWwuYXBwZW5kQ2hpbGQoYW0pO1xyXG4gICAgICAgIGFtLnZhbHVlID0gJ9Cc0LDRgNC60LAg0LDQvdGC0YDQsNGG0LjRgtCwIC0g0JDQnCc7XHJcbiAgICAgICAgYW0uaW5uZXJIVE1MID0gJ9CQ0JwnO1xyXG4gICAgICAgIHZhciBhbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGdyYWRlQ29hbC5hcHBlbmRDaGlsZChhbyk7XHJcbiAgICAgICAgYW8udmFsdWUgPSAn0JzQsNGA0LrQsCDQsNC90YLRgNCw0YbQuNGC0LAgLSDQkNCeJztcclxuICAgICAgICBhby5pbm5lckhUTUwgPSAn0JDQnic7XHJcbiAgICAgICAgdmFyIGFrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgZ3JhZGVDb2FsLmFwcGVuZENoaWxkKGFrKTtcclxuICAgICAgICBhay52YWx1ZSA9ICfQnNCw0YDQutCwINCw0L3RgtGA0LDRhtC40YLQsCAtINCQ0JonO1xyXG4gICAgICAgIGFrLmlubmVySFRNTCA9ICfQkNCaJztcclxuICAgICAgICB2YXIgYWtvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgZ3JhZGVDb2FsLmFwcGVuZENoaWxkKGFrbyk7XHJcbiAgICAgICAgYWtvLnZhbHVlID0gJ9Cc0LDRgNC60LAg0LDQvdGC0YDQsNGG0LjRgtCwIC0g0JDQmtCeJztcclxuICAgICAgICBha28uaW5uZXJIVE1MID0gJ9CQ0JrQnic7XHJcbiAgICAgICAgdmFyIHRvbm5hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQodG9ubmFnZSk7XHJcbiAgICAgICAgdG9ubmFnZS5wbGFjZWhvbGRlciA9ICfQo9C60LDQttC40YLQtSDRgtC+0L3QvdCw0LYnO1xyXG4gICAgICAgIHRvbm5hZ2Uuc2V0QXR0cmlidXRlKCduYW1lJywgJ3Rvbm5hZ2UnKTtcclxuICAgICAgICB2YXIgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdCk7XHJcbiAgICAgICAgc3VibWl0LnR5cGUgPSAnc3VibWl0JztcclxuICAgICAgICBzdWJtaXQudmFsdWUgPSAn0J7QpNCe0KDQnNCY0KLQrCc7XHJcbiAgICAgICAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VuZEZvcm0pO1xyXG4gICAgICAgIHZhciBjYW5jZWxsYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNhbmNlbGxhdGlvbik7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uLmlubmVySFRNTCA9ICfQvtGC0LzQtdC90LjRgtGMJztcclxuICAgICAgICBjYW5jZWxsYXRpb24uY2xhc3NMaXN0LmFkZCgnY2FuY2VsX2J1dHRvbicpO1xyXG4gICAgICAgIGNhbmNlbGxhdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZU92ZXJsYXkpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzZW5kRm9ybSAoZWwpIHtcclxuICAgICAgICBlbC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5mb3Jtc1swXVswXS52YWx1ZTtcclxuLy8gICAgICAgIHZhciB0ZWxlcGhvbmUgPSBkb2N1bWVudC5mb3Jtc1swXVsxXS52YWx1ZTtcclxuLy8gICAgICAgIHZhciBlbWFpbCA9IGRvY3VtZW50LmZvcm1zWzBdWzJdLnZhbHVlO1xyXG4vLyAgICAgICAgdmFyIGdyYWRlID0gZG9jdW1lbnQuZm9ybXNbMF1bM10udmFsdWU7XHJcbi8vICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5mb3Jtc1swXVs0XS52YWx1ZTtcclxuLy8gICAgICAgIGNvbnNvbGUubG9nKCfQlNCw0L3QvdGL0LUg0YTQvtGA0LzRiycsIG5hbWUsIHRlbGVwaG9uZSwgZW1haWwsIGdyYWRlLCB2YWx1ZSk7XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gJ25hbWU9JyArIGRvY3VtZW50LmZvcm1zWzBdWzBdLnZhbHVlICsgJyZ0ZWxlcGhvbmU9JyArIGRvY3VtZW50LmZvcm1zWzBdWzFdLnZhbHVlICsgJyZlbWFpbD0nICsgZG9jdW1lbnQuZm9ybXNbMF1bMl0udmFsdWUgKyAnJmdyYWRlPScgKyBkb2N1bWVudC5mb3Jtc1swXVszXS52YWx1ZSArICcmdG9ubmFnZT0nICsgIGRvY3VtZW50LmZvcm1zWzBdWzRdLnZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICB2YXIgeG1sUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhtbFJlcXVlc3Qub3BlbignUE9TVCcsICdzZW5kLnBocCcsIHRydWUpO1xyXG4gICAgICAgIHhtbFJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpXHJcbiAgICAgICAgeG1sUmVxdWVzdC5zZW5kKGZvcm1EYXRhKTtcclxuICAgICAgICBcclxuICAgICAgICB4bWxSZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKHhtbFJlcXVlc3QucmVhZHlTdGF0ZSAhPSA0KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgaWYgKHhtbFJlcXVlc3Quc3RhdHVzICE9IDIwMCkge1xyXG4gICAgICAgICAgICBhbGVydChcItCe0YLQv9GA0LDQstC40YLRjCDQtNCw0L3QvdGL0LUg0L3QtSDRg9C00LDQu9C+0YHRjFwiICsgeG1sUmVxdWVzdC5zdGF0dXMgKyAnOiAnICsgeG1sUmVxdWVzdC5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYWxlcnQoXCLQktCw0YjQsCDQt9Cw0Y/QstC60LAg0YPRgdC/0LXRiNC90L4g0L7RgtC/0YDQsNCy0LvQtdC90LAuINCc0Ysg0YHQstGP0LbQtdC80YHRjyDRgSDQktCw0LzQuCDQsiDRgdCw0LzQvtC1INCx0LvQuNC20LDQudGI0LXQtSDQstGA0LXQvNGPLlwiKTsgICAgXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuLy8gICAgZnVuY3Rpb24g0LLRg9GCICgpIHtcclxuLy8gICAgICAgIFxyXG4vLyAgICAgICAgdmFyIHVybFF1ZXJ5ID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9jdXN0b21zZWFyY2gvdjE/cT1cIiArIHRleHRWYWx1ZSArIFwiJmN4PTAxNjczMjYyNDgxNjQ3MTA2MTQyODozZ3QycmN4bzdsayZpbWdTaXplPW1lZGl1bSZmaWxlVHlwZT1qcGcmbnVtPTEmc2VhcmNoVHlwZT1pbWFnZSZpbWdEb21pbmFudENvbG9yPXBpbmsma2V5PUFJemFTeUJuY09rME9LRDBwN1NFcXBuQ25qNjhsWkFsMHpxeHh2b1wiO1xyXG4vLyAgICAgICAgXHJcbi8vICAgICAgICB2YXIgeG1sUmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vLyAgICAgICAgeG1sUmVxdWVzdC5vcGVuKCdHRVQnLCB1cmxRdWVyeSwgdHJ1ZSk7XHJcbi8vICAgICAgICB4bWxSZXF1ZXN0LnNlbmQoKTtcclxuLy8gICAgICAgIFxyXG4vLyAgICAgICAgeG1sUmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgaWYgKHhtbFJlcXVlc3QucmVhZHlTdGF0ZSAhPSA0KSByZXR1cm47XHJcbi8vXHJcbi8vICAgICAgICAgIGlmICh4bWxSZXF1ZXN0LnN0YXR1cyAhPSAyMDApIHtcclxuLy8gICAgICAgICAgICBjb25zb2xlLmxvZyhcItCY0LfQvtCx0YDQsNC20LXQvdC40LUg0L/QviDQtNCw0L3QvdC+0LzRgyDQt9Cw0L/RgNC+0YHRgyDQvdC1INC/0L7Qu9GD0YfQtdC90L4gXCIgKyB4bWxSZXF1ZXN0LnN0YXR1cyArICc6ICcgKyB4bWxSZXF1ZXN0LnN0YXR1c1RleHQpO1xyXG4vLyAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhtbFJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuLy8gICAgICAgICAgICAgIHZhciBpbWFnZUxpbmsgPSBkYXRhLml0ZW1zWzBdLmxpbms7XHJcbi8vICAgICAgICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IGRhdGEuaXRlbXNbMF0uaW1hZ2Uud2lkdGg7XHJcbi8vICAgICAgICAgICAgICB2YXIgaW1hZ2VoZWlnaHQgPSBkYXRhLml0ZW1zWzBdLmltYWdlLmhlaWdodDtcclxuLy8gICAgICAgICAgICAgIHZhciByYXRpbyA9IGltYWdlV2lkdGggLyBpbWFnZWhlaWdodDtcclxuLy8gICAgICAgICAgICAgIGlmIChyYXRpbyA+IDIpIHtcclxuLy8gICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSA0NDA7XHJcbi8vICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSByYXRpbyAqIDMxMDsgIFxyXG4vLyAgICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgIGN1cnJlbnREaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgaW1hZ2VMaW5rICsgJyknO1xyXG4vLyAgICAgICAgICAgICAgY3VycmVudERpdi5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcclxuLy8gICAgICAgICAgICAgIGN1cnJlbnREaXYuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnYXV0byAzMTBweCc7XHJcbi8vICAgICAgICAgICAgICBtYXNvbnJ5KCk7ICAgIFxyXG4vLyAgICAgICAgICB9XHJcbi8vXHJcbi8vICAgICAgICB9O1xyXG4vL1xyXG4vLyAgICB9O1xyXG4gICAgXHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
